<!DOCTYPE html>  
<html lang="en">  
<head>  
<meta charset=utf-8>  
<!-- <html manifest="manifest"> -->


<!--
    Meta 
-->
<meta name="rating" content="safe for kids" />
<meta name="keywords"
 content="drawing, brushes, layer, online, javascript, color" />
<meta name="description"
 content="GraphIT: A little online drawing program" />
<meta name="author" content="showi-github_com" />
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<!-- 
    Icon
-->
<link rel="icon" href="http://shojs.github.com/graphit-static/images/favicon.png" type="image/png" />
<link rel="shortcut icon" href="http://shojs.github.com/graphit-static/images/favicon.png"" type="image/png" />


<script type="text/javascript" src="js/jquery-1.8.3.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.9.2.custom.min.js"></script>

<script type="text/javascript" src="js/lib/fix.js"></script>
<script type="text/javascript" src="js/main.js"></script>
<!--<script type="text/javascript" src="js/lib/bird.js"></script>-->
<!--<script type="text/javascript" src="js/app/run2.js"></script>-->

<link id="ui-theme" rel="stylesheet" type="text/css" href="http://shojs.github.com/graphit-static/js/plugin/jquery-ui/1.9.2/themes/base/jquery-ui.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<script type="text/javascript">
(function(window,graphit, console){
	var root = document.getElementsByTagName('script')[0];
	if (!root) root = document.head;
	var total = 0;
	var loaded = 0;
	var plugins = [ 
	                'jpicker/css/jPicker-1.1.6.css', 
	                'colorpicker/js/colorpicker.js',
	                'jquery.editinplace.js', 
	                'jquery.hotkeys-0.7.9.min.js', 
	                'colorpicker/css/colorpicker.css', 
	              ];
	
	var graphitclass = [
	                    '../index.htm.min.js',
	                    /* MINIFYJS:START 
                        'lib/func.js', 
	                    'lib/uid.js', 
	                    'lib/exception.js',
	                    'lib/object.js', 
	                    'lib/localStorage.js',
	                    'lib/po.js',
	                    'lib/parameter/enum/type.js',
	                    'lib/parameter.js', 
	                    'lib/parameter/select.js',
	                    'app/jquery/themeInjector.js',
	                    'app/jquery/theme.js',
	                    'lib/parameter/checkbox.js',
	                    'lib/parameter/numeric.js',
	                    
	                     
	                    'lib/enum/loading.js',
	                    'lib/enum/cardinal.js',
	                    'lib/image.js',
	                    'lib/icon.js',
	                    'lib/color.js',
	                    'lib/image/analyse.js',
	                    'lib/menu.js',
	                    'lib/canvas.js',
	                    'lib/bounding/rectangle.js',

	                    'lib/math/point2d.js',
	                    'lib/math/vector2d.js',
	                    'lib/math/matrix33.js',
                        'lib/math.js',
	                    'lib/transform/2d.js',
	                    'lib/mouse/tracker.js',
	                    'app/widget.js',
	                    'app/enum/compositeOperation.js',
	                    'app/tool.js',
	                    'app/tool/pencil.js',
	                    'app/tool/paintbrush.js',
	                    'app/tool/eraser.js',
	                    'app/tool/fill.js',
	                    'app/tool/colorPicker.js',
	                    'app/grapher.js',
	                    'app/helper_draw.js',
	                    'app/license.js',
	                    'app/frag.js',
	                    'app/layer.js',
	                    'app/layer/manager.js',
	                    'app/grid.js',
	                    'app/surface.js',
	                    'app/surface/workspace.js',
	                    'app/brush/enum/type.js',

                        'app/brush/tools.js',
                        'app/brush.js',
                        'app/brush/manager.js',
                        'app/toolbox/preview.js',
                        'app/toolbox/colorpicker.js',
                        'app/toolbox.js',
	                    'lib/binaryFile.js',
	                    'lib/binaryFile/GBR.js',

	                    'app/graphit.js',
	                    'app/graphitAuth.js',
	                    'lib/browser.js',
	                    'app/boot/test.js',
	                    'app/boot.js'
                        
                        MINIFYJS:STOP */
                    ];
	
	var inject_script = function(path) {
    	var type = 'js';
    	var pat = /^(.*)\.(css)$/i;
    	var m = pat.exec(path); 
    	if (m) type = 'css';
    	var r = null;
    	if (type == 'js') {
    		r = document.createElement('script');
    		r.type = "text/javascript";
    	    r.async = false;
    		r.defer = false; 
    		r.src = path;
            total++;
            r.onload = function() {
                var src = this.src;
                if (window.graphit.debug > 5) 
                    console.log('['+loaded + ','+total+']', 'Loaded', src);
        	    loaded++;
        	    console.log('['+loaded+'/'+total+']', path);
        	    if (loaded == total) {
        	       console.log('[Booting]');//, 'background-color:blue; color:white');
        	       var boot = graphit.import('app/boot');
        	       if (!boot) {
        	           throw('graphit_no_boot_code');
        	       }
        	       try {
        	           boot.call(graphit);
        	           window.graphit.loaded = true;
        	       } catch(e) {
        	           console.error('[!] Cannot bootstrap code');
        	           if (window.graphit.debug) {
        	               throw(e);
        	           }
        	       }
        	    }
             };
        } else {
            r = document.createElement('link');
            r.rel = "stylesheet";
            r.type = "text/css";
            r.href = path;
        }
        root.parentNode.insertBefore(r, root);   
	};

	for (var i = 0; i < plugins.length; i++) {
		inject_script(window.graphit.baseStaticContent + 'js/plugin/' + plugins[i]);
	}

	for (var i = 0; i < graphitclass.length; i++) {
	    inject_script('js/' + graphitclass[i]);
	}
})(window, graphit, console);
</script>
<title>GraphIt: Javascript online drawing</title>
</head>
<body>
 <!-- Google Analytics -->
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push([
            '_setAccount', 'UA-36433517-2'
    ]);
    _gaq.push([
        '_trackPageview'
    ]);
    _gaq.push(['_setCookiePath', '/']);  
    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl'
                : 'http://www')
                + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();   
</script>
</body>
</html>
